<?php

declare(strict_types=1);

$movies = [
    'Blade Runner 2049' => [
        'director' => 'Ridley Scott',
        'year' => 1982,
        'genre' => 'Sci-Fi',
        'rating' => 8.2,
        'photo' => 'posters/Blade-Runner-2049.jpeg'
    ],
    'The Matrix' => [
        'director' => 'Andy Wachowski',
        'year' => 1999,
        'genre' => 'Sci-Fi',
        'rating' => 8.7,
        'photo' => 'posters/The-Matrix.jpeg'
    ],
    'E.T. the Extra-Terrestrial' => [
        'director' => 'Steven Spielberg',
        'year' => 1982,
        'genre' => 'Sci-Fi',
        'rating' => 7.9,
        'photo' => 'posters/E.T..jpeg'
    ],
    'The Thing' => [
        'director' => 'John Carpenter',
        'year' => 1982,
        'genre' => 'Horror',
        'rating' => 8.2,
        'photo' => 'posters/The-Thing.jpeg'
    ],
    'Inception' => [
        'director' => 'Christopher Nolan',
        'year' => 2010,
        'genre' => 'Sci-Fi',
        'rating' => 8.8,
        'photo' => 'posters/Inception.jpeg'
    ],
    'Interstellar' => [
        'director' => 'Christopher Nolan',
        'year' => 2014,
        'genre' => 'Sci-Fi',
        'rating' => 8.6,
        'photo' => 'posters/Interstellar.jpeg'
    ],
    'Kong: Skull Island' => [
        'director' => 'Jordan Vogt-Roberts',
        'year' => 2017,
        'genre' => 'Action',
        'rating' => 6.7,
        'photo' => 'posters/Kong-Skull-Island.jpeg'
    ],
    'RoboCop' => [
        'director' => 'Paul Verhoeven',
        'year' => 1987,
        'genre' => 'Action',
        'rating' => 7.5,
        'photo' => 'posters/RoboCop.jpeg'
    ],
    'The Shining' => [
        'director' => 'Stanley Kubrick',
        'year' => 1980,
        'genre' => 'Horror',
        'rating' => 8.4,
        'photo' => 'posters/The-Shining.jpeg'
    ],
    '300' => [
        'director' => 'Zack Snyder',
        'year' => 2006,
        'genre' => 'Action',
        'rating' => 7.7,
        'photo' => 'posters/300.jpeg'
    ],
    'Bohemian Rhapsody' => [
        'director' => 'Bryan Singer',
        'year' => 2018,
        'genre' => 'Biography',
        'rating' => 8.0,
        'photo' => 'posters/Bohemian-Rhapsody.jpeg'
    ],
    'cars' => [
        'director' => 'John Lasseter',
        'year' => 2006,
        'genre' => 'Animation',
        'rating' => 7.1,
        'photo' => 'posters/cars-1.jpeg'
    ],
    'django' => [
        'director' => 'Quentin Tarantino',
        'year' => 2012,
        'genre' => 'Western',
        'rating' => 8.4,
        'photo' => 'posters/django.jpeg'
    ],
    'doctor strange' => [
        'director' => 'Scott Derrickson',
        'year' => 2016,
        'genre' => 'Action',
        'rating' => 7.5,
        'photo' => 'posters/doctor-strange.jpeg'
    ],
    'fallen angles' => [
        'director' => 'Alan Parker',
        'year' => 1998,
        'genre' => 'Crime',
        'rating' => 7.3,
        'photo' => 'posters/fallen-angles.jpeg'
    ],
    'full metal jacket' => [
        'director' => 'Stanley Kubrick',
        'year' => 1987,
        'genre' => 'War',
        'rating' => 8.3,
        'photo' => 'posters/full-metal-jacket.jpeg'
    ],
    'Get Out' => [
        'director' => 'Jordan Peele',
        'year' => 2017,
        'genre' => 'Horror',
        'rating' => 7.7,
        'photo' => 'posters/Get-Out.jpeg'
    ],
    'godfather' => [
        'director' => 'Francis Ford Coppola',
        'year' => 1972,
        'genre' => 'Crime',
        'rating' => 9.2,
        'photo' => 'posters/godfather.jpeg'
    ],
    'GoodFellas' => [
        'director' => 'Martin Scorsese',
        'year' => 1990,
        'genre' => 'Crime',
        'rating' => 8.7,
        'photo' => 'posters/GoodFellas.jpeg'
    ],
    'guardians of the galaxy' => [
        'director' => 'James Gunn',
        'year' => 2014,
        'genre' => 'Action',
        'rating' => 8.1,
        'photo' => 'posters/guardians-of-the-galaxy.jpeg'
    ],
    'harry potter' => [
        'director' => 'Chris Columbus',
        'year' => 2001,
        'genre' => 'Fantasy',
        'rating' => 7.6,
        'photo' => 'posters/harry-potter-1.jpeg'
    ],
    'her' => [
        'director' => 'Spike Jonze',
        'year' => 2013,
        'genre' => 'Romance',
        'rating' => 8.0,
        'photo' => 'posters/her.jpeg'
    ],
    'Hereditary' => [
        'director' => 'Ari Aster',
        'year' => 2018,
        'genre' => 'Horror',
        'rating' => 7.3,
        'photo' => 'posters/Hereditary.jpeg'
    ],
    'home alone' => [
        'director' => 'Chris Columbus',
        'year' => 1990,
        'genre' => 'Comedy',
        'rating' => 7.6,
        'photo' => 'posters/home-alone.jpeg'
    ],
    'howls moving castle' => [
        'director' => 'Hayao Miyazaki',
        'year' => 2004,
        'genre' => 'Animation',
        'rating' => 8.2,
        'photo' => 'posters/Howls-Moving-Castle.jpeg'
    ],
    'inglourious basterds' => [
        'director' => 'Quentin Tarantino',
        'year' => 2009,
        'genre' => 'War',
        'rating' => 8.3,
        'photo' => 'posters/inglourious-basterds.jpeg'
    ],
    'jojo rabbit' => [
        'director' => 'Taika Waititi',
        'year' => 2019,
        'genre' => 'Comedy',
        'rating' => 7.9,
        'photo' => 'posters/jojo-rabbit.jpeg'
    ],
    'joker' => [
        'director' => 'Todd Phillips',
        'year' => 2019,
        'genre' => 'Crime',
        'rating' => 8.5,
        'photo' => 'posters/Joker.jpeg'
    ],
    'kikis delivery service' => [
        'director' => 'Hayao Miyazaki',
        'year' => 1989,
        'genre' => 'Animation',
        'rating' => 8.0,
        'photo' => 'posters/kikis-delivery-service.jpeg'
    ],
    'kitty mafia' => [
        'director' => 'Tim Hill',
        'year' => 2010,
        'genre' => 'Animation',
        'rating' => 5.3,
        'photo' => 'posters/kitty-mafia.jpeg'
    ],
    'knives out' => [
        'director' => 'Rian Johnson',
        'year' => 2019,
        'genre' => 'Crime',
        'rating' => 7.9,
        'photo' => 'posters/knives-out.jpeg'
    ],
    'la la land' => [
        'director' => 'Damien Chazelle',
        'year' => 2016,
        'genre' => 'Musical',
        'rating' => 8.0,
        'photo' => 'posters/la-la-land.jpeg'
    ],
    'last night in soho' => [
        'director' => 'Edgar Wright',
        'year' => 2021,
        'genre' => 'Horror',
        'rating' => 6.5,
        'photo' => 'posters/last-night-in-soho.jpeg'
    ],
    'Leon' => [
        'director' => 'Luc Besson',
        'year' => 1994,
        'genre' => 'Crime',
        'rating' => 8.6,
        'photo' => 'posters/Leon.jpeg'
    ],
    'mad max' => [
        'director' => 'George Miller',
        'year' => 1979,
        'genre' => 'Action',
        'rating' => 8.0,
        'photo' => 'posters/mad-max.jpeg'
    ],
    'Marriage Story' => [
        'director' => 'Noah Baumbach',
        'year' => 2019,
        'genre' => 'Drama',
        'rating' => 8.0,
        'photo' => 'posters/Marriage-Story.jpeg'
    ],
    'mid90s' => [
        'director' => 'Jonah Hill',
        'year' => 2018,
        'genre' => 'Drama',
        'rating' => 7.7,
        'photo' => 'posters/mid90s.jpeg'
    ],
    'moonlight' => [
        'director' => 'Barry Jenkins',
        'year' => 2016,
        'genre' => 'Drama',
        'rating' => 7.4,
        'photo' => 'posters/moonlight.jpeg'
    ],
    'No Country for Old Men' => [
        'director' => 'Ethan Coen',
        'year' => 2007,
        'genre' => 'Crime',
        'rating' => 8.1,
        'photo' => 'posters/No-Country-for-Old-Men.jpeg'
    ],
    'once upon a time in hollywood' => [
        'director' => 'Quentin Tarantino',
        'year' => 2019,
        'genre' => 'Comedy',
        'rating' => 7.6,
        'photo' => 'posters/Once-upon-a-time-in-Hollywood.jpeg'
    ],
    'Parasite' => [
        'director' => 'Bong Joon Ho',
        'year' => 2019,
        'genre' => 'Drama',
        'rating' => 8.6,
        'photo' => 'posters/Parasite.jpeg'
    ],
    'pulp fiction' => [
        'director' => 'Quentin Tarantino',
        'year' => 1994,
        'genre' => 'Crime',
        'rating' => 8.9,
        'photo' => 'posters/pulp-fiction.jpeg'
    ],
    'return of the jedi' => [
        'director' => 'Richard Marquand',
        'year' => 1983,
        'genre' => 'Sci-Fi',
        'rating' => 8.4,
        'photo' => 'posters/return-of-the-jedi.jpeg'
    ],
    'rocky' => [
        'director' => 'John G. Avildsen',
        'year' => 1976,
        'genre' => 'Drama',
        'rating' => 8.1,
        'photo' => 'posters/rocky.jpeg'
    ],
    'rogue one' => [
        'director' => 'Gareth Edwards',
        'year' => 2016,
        'genre' => 'Sci-Fi',
        'rating' => 7.8,
        'photo' => 'posters/rogue-one.jpeg'
    ],
    'scarface' => [
        'director' => 'Brian De Palma',
        'year' => 1983,
        'genre' => 'Crime',
        'rating' => 8.3,
        'photo' => 'posters/scarface.jpeg'
    ],
    'snatch' => [
        'director' => 'Guy Ritchie',
        'year' => 2000,
        'genre' => 'Comedy',
        'rating' => 8.3,
        'photo' => 'posters/snatch.jpeg'
    ],
    'tenet' => [
        'director' => 'Christopher Nolan',
        'year' => 2020,
        'genre' => 'Action',
        'rating' => 7.4,
        'photo' => 'posters/tenet.jpeg'
    ],
    'the imitation game' => [
        'director' => 'Morten Tyldum',
        'year' => 2014,
        'genre' => 'Drama',
        'rating' => 8.0,
        'photo' => 'posters/the-imitation-game.jpeg'
    ],
    'The Lighthouse' => [
        'director' => 'Robert Eggers',
        'year' => 2019,
        'genre' => 'Horror',
        'rating' => 7.6,
        'photo' => 'posters/The-Lighthouse.jpeg'
    ],
    'The-Lobster' => [
        'director' => 'Yorgos Lanthimos',
        'year' => 2015,
        'genre' => 'Comedy',
        'rating' => 7.1,
        'photo' => 'posters/The-Lobster.jpeg'
    ],
    'The incredibles' => [
        'director' => 'Brad Bird',
        'year' => 2004,
        'genre' => 'Animation',
        'rating' => 8.0,
        'photo' => 'posters/The-Incredibles.jpeg'
    ],
    'the invisible man' => [
        'director' => 'Leigh Whannell',
        'year' => 2020,
        'genre' => 'Horror',
        'rating' => 7.1,
        'photo' => 'posters/the-invisible-man.jpeg'
    ],
    'the trueman show' => [
        'director' => 'Peter Weir',
        'year' => 1998,
        'genre' => 'Comedy',
        'rating' => 8.1,
        'photo' => 'posters/the-trueman-show.jpeg'
    ],
    'thor ragnarok' => [
        'director' => 'Taika Waititi',
        'year' => 2017,
        'genre' => 'Action',
        'rating' => 7.9,
        'photo' => 'posters/thor-ragnarok.jpeg'
    ],
    'totoro' => [
        'director' => 'Hayao Miyazaki',
        'year' => 1988,
        'genre' => 'Animation',
        'rating' => 8.2,
        'photo' => 'posters/totoro.jpeg'
    ],
    'vertigo' => [
        'director' => 'Alfred Hitchcock',
        'year' => 1958,
        'genre' => 'Mystery',
        'rating' => 8.4,
        'photo' => 'posters/vertigo.jpeg'
    ],
    'Whiplash' => [
        'director' => 'Damien Chazelle',
        'year' => 2014,
        'genre' => 'Drama',
        'rating' => 8.5,
        'photo' => 'posters/Whiplash.jpeg'
    ],
];
//foreach genre from $movies, remove duplicates and sort alphabetically, then add to $genres array
$genres = [];
/* foreach ($movies as $movie) {
    $genres[] = $movie['genre'];
} */
$genres = array_unique($genres);
sort($genres);
//filter movies by genre if genre button is pressed in index.php form
/* if (isset($_POST['genre'])) {
    if ($_POST['genre'] === "All") {
        return $movies;
    }
    $genre = $_POST['genre'];
    $movies = array_filter($movies, function ($movie) use ($genre) {
        return $movie['genre'] === $genre;
    });
} */
// Array with all genres from $movies array
$genres = [];
foreach ($movies as $movie) {
    $genres[] = $movie['genre'];
}
// Remove duplicates and sort alphabetically
$genres = array_unique($genres);
sort($genres);
// Filter movies by genre if genre button is pressed in index.php form
if (isset($_POST['genre'])) {
    if ($_POST['genre'] === "All") {
        return $movies;
    }
    $genre = $_POST['genre'];
    $movies = array_filter($movies, function ($movie) use ($genre) {
        return $movie['genre'] === $genre;
    });
}
//array with all ratings from $movies array
$ratings = [];
foreach ($movies as $movie) {
    $ratings[] = $movie['rating'];
}
//remove duplicates and sort alphabetically
$ratings = array_unique($ratings);
sort($ratings);
//filter all movies by rating if rating button is pressed in index.php form
if (isset($_POST['rating'])) {
    $rating = $_POST['rating'];
    $movies = array_filter($movies, function ($movie) use ($rating) {
        return $movie['rating'] >= $rating;
    });
}
// if isset movie in index.php form, add to $watchlist array
/* if (isset($_POST['movie'])) {
    $watchlist[] = $_POST['movie'];
} */
